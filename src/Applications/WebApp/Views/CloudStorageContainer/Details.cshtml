@model CloudStorageContainerDetailsViewModel
@{
  ViewBag.Title = "Details";
}

<h1>@Model.CloudStorageContainer.Name</h1>

@Html.ActionLink("Agregar", "AddCloudStorageAccount", "CloudStorageAccount", new { UserId = User.Identity.Name }, new { @class = "btn btn-default", @role = "button" })
@*@Html.ActionLink("Sincronizar", "Sync", "CloudStorageContainer", new { id = Model.CloudStorageContainer.PublicKey.ToString("N"), UserId = User.Identity.Name }, new { @class = "btn btn-default", @role = "button" })*@
<table class="table table-hover">
  @*<caption>Test caption</caption>*@
  <thead>
    <tr>
      <th>Name</th>
      <th>Modified</th>
      <th>Shared</th>
    </tr>
  </thead>
  <tbody>
    @foreach (var item in @Model.CloudStorageContainer.ListBlobs().OfType<Microsoft.WindowsAzure.Storage.Blob.CloudBlob>().OrderBy(a => a.Properties.LastModified)) {
      <tr>
        <td>@Html.ActionLink(@item.Name, "Details", "CloudStorageItem", new { iid = @item.Name, container = @Model.CloudStorageContainer.Name, account = @Model.CloudStorageAccount.PublicKey.ToString("N") }, null)</td>
        <td>@item.Name</td>
        @*<td>@item.Description</td>*@
      </tr>
    }
  </tbody>
</table>